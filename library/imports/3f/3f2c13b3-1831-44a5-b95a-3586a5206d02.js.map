{"version":3,"sources":["../../../../assets/scripts/assets/scripts/game.js"],"names":["cc","Class","extends","Component","properties","starPrefab","default","type","Prefab","maxStarDuration","minStarDUration","ground","Node","player","onLoad","groundY","y","height","console","log","spawnNewStar","newStar","instantiate","parent","node","setPosition","getNewStarPosition","getComponent","game","randX","randY","random0To1","jumpHeight","maxX","width","p"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,oBAAY;AACRC,qBAAS,IADD;AAERC,kBAAMP,GAAGQ;AAFD,SAhBJ;AAoBRC,yBAAiB,CApBT;AAqBRC,yBAAiB,CArBT;AAsBRC,gBAAQ;AACJL,qBAAS,IADL;AAEJC,kBAAMP,GAAGY;AAFL,SAtBA;AA0BRC,gBAAQ;AACJP,qBAAS,IADL;AAEJC,kBAAMP,GAAGY;AAFL;AA1BA,KAHP;;AAmCL;;AAEAE,YAAQ,kBAAW;AACf,aAAKC,OAAL,GAAe,KAAKJ,MAAL,CAAYK,CAAZ,GAAgB,KAAKL,MAAL,CAAYM,MAAZ,GAAmB,CAAlD;AACAC,gBAAQC,GAAR,CAAY,cAAY,KAAKR,MAAL,CAAYK,CAAxB,GAA0B,iBAA1B,GAA4C,KAAKL,MAAL,CAAYM,MAApE;AACA,aAAKG,YAAL;AACH,KAzCI;;AA2CLA,kBAAc,wBAAW;AACrB,YAAIC,UAAUrB,GAAGsB,WAAH,CAAe,KAAKjB,UAApB,CAAd;AACAgB,gBAAQE,MAAR,GAAiB,KAAKC,IAAtB;AACA;AACAH,gBAAQI,WAAR,CAAoB,KAAKC,kBAAL,EAApB;AACAL,gBAAQM,YAAR,CAAqB,MAArB,EAA6BC,IAA7B,GAAoC,IAApC;AACH,KAjDI;AAkDLF,wBAAoB,8BAAW;AAC3B,YAAIG,QAAQ,CAAZ;AACA,YAAIC,QAAQ,KAAKf,OAAL,GAAef,GAAG+B,UAAH,KAAkB,KAAKlB,MAAL,CAAYc,YAAZ,CAAyB,QAAzB,EAAmCK,UAApE,GAAiF,EAA7F;AACA,YAAIC,OAAO,KAAKT,IAAL,CAAUU,KAAV,GAAgB,CAA3B;AACA;AACAL,gBAAQ7B,GAAG+B,UAAH,KAAkB,KAAKP,IAAL,CAAUU,KAA5B,GAAkC,EAA1C;AACAhB,gBAAQC,GAAR,CAAY,WAASU,KAAT,GAAe,SAAf,GAAyBC,KAAzB,GAA+B,cAA/B,GAA8C,KAAKN,IAAL,CAAUU,KAApE;AACA,eAAOlC,GAAGmC,CAAH,CAAKN,KAAL,EAAYC,KAAZ,CAAP;AACH;AACD;;AAEA;;AAEA;AA/DK,CAAT","file":"game.js","sourceRoot":"../../../../assets/scripts","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n        starPrefab: {\n            default: null,\n            type: cc.Prefab\n        },\n        maxStarDuration: 0,\n        minStarDUration: 0,\n        ground: {\n            default: null,\n            type: cc.Node\n        },\n        player: {\n            default: null,\n            type: cc.Node\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad: function() {\n        this.groundY = this.ground.y + this.ground.height/2;\n        console.log(\"ground.y:\"+this.ground.y+\",ground.height:\"+this.ground.height)\n        this.spawnNewStar();\n    },\n\n    spawnNewStar: function() {\n        var newStar = cc.instantiate(this.starPrefab);\n        newStar.parent = this.node;\n        // this.node.addChild(newStar);\n        newStar.setPosition(this.getNewStarPosition());\n        newStar.getComponent('star').game = this;\n    },\n    getNewStarPosition: function() {\n        var randX = 0;\n        var randY = this.groundY + cc.random0To1() * this.player.getComponent(\"player\").jumpHeight + 50;\n        var maxX = this.node.width/2;\n        // randX = cc.randomMinus1To1() * maxX;\n        randX = cc.random0To1() * this.node.width/10;\n        console.log(\"randX:\"+randX+\",randY:\"+randY+\",node.width:\"+this.node.width)\n        return cc.p(randX, randY);\n    }\n    // start () {\n\n    // },\n\n    // update (dt) {},\n});\n"]}